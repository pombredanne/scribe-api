(function(exports,global){global["true"]=exports;var _base;if(this.Scribe==null){this.Scribe={}}if((_base=this.Scribe).Mixins==null){_base.Mixins={}}Scribe.Mixins.GetterSetters={mixin:function(instance,propNames){return function(){var capitalize;capitalize=function(str){return str.charAt(0).toUpperCase()+str.substring(1)};return propNames.forEach(function(prop){return Object.defineProperty(instance,prop,{get:function(){var e;try{return this["_get"+capitalize(prop)]()}catch(_error){e=_error;e.message="_get"+capitalize(prop)+"() failed:\n "+e.message;throw e}},set:function(val){var e;try{return this["_set"+capitalize(prop)](val)}catch(_error){e=_error;e.message="_set"+capitalize(prop)+"() failed:\n "+e.message;throw e}}})})}()}};Scribe.Mixins.Triggerable={on:function(eventName,callback){var _base;eventName=eventName.toLowerCase();if((_base=this._eventsHash)[eventName]==null){_base[eventName]=[]}return this._eventsHash[eventName].push(callback)},off:function(eventName,callback){var cbIdx,_base;eventName=eventName.toLowerCase();if(callback!=null){if((_base=this._eventsHash)[eventName]==null){_base[eventName]=[]}cbIdx=this._eventsHash[eventName].indexOf(callback);if(cbIdx>-1){return this._eventsHash[eventName].splice(cbIdx)}}else{return this._eventsHash[eventName]=[]}},trigger:function(eventName){var cb,_i,_len,_ref;eventName=eventName.toLowerCase();_ref=this._eventsHash[eventName]||[];for(_i=0,_len=_ref.length;_i<_len;_i++){cb=_ref[_i];cb()}return null}};Scribe.Mixins.Triggerable.mixin=function(context){context._eventsHash={};context.on=this.on.bind(context);context.off=this.off.bind(context);return context.trigger=this.trigger.bind(context)};Scribe.Engine=function(){function Engine(){}Engine.current=null;Engine.parent=null;Engine.prototype.parent=null;Engine.prototype.nativeObject=null;Engine.prototype["eval"]=function(jsCode){return this._eval(jsCode)};return Engine}();(function(){Scribe.Mixins.GetterSetters.mixin(Scribe.Engine.prototype,["nativeEngineObject","parent"]);return Scribe.Mixins.GetterSetters.mixin(Scribe.Engine,["current","parent"])})();Scribe.Menu=function(){function Menu(opts){if(opts==null){opts={}}Scribe.Mixins.Triggerable.mixin(this)}return Menu}();Scribe.Screen=function(){Screen.all=null;Screen.prototype.width=0;Screen.prototype.height=0;Screen.prototype.nativeScreenObject=null;function Screen(opts){if(opts==null){opts={}}if(opts.nativeScreenObject!=null){this._nativeScreenObject=opts.nativeScreenObject}}return Screen}();(function(){Scribe.Mixins.Triggerable.mixin(Scribe.Screen);Scribe.Mixins.GetterSetters.mixin(Scribe.Screen,["all"]);return Scribe.Mixins.GetterSetters.mixin(Scribe.Screen.prototype,["width","height","nativeScreenObject"])})();Scribe.Window=function(){Window.current=null;Window.broadcastMessage=function(message){return this._broadcastMessage(message)};Window.create=function(opts){if(opts==null){opts={}}return new this(opts)};Window.prototype.fullscreen=false;Window.prototype.title=null;Window.prototype.chrome=true;Window.prototype.closable=true;Window.prototype.resizable=true;Window.prototype.visible=false;Window.prototype.left=0;Window.prototype.top=0;Window.prototype.width=0;Window.prototype.height=0;Window.prototype.alpha=1;Window.prototype.topmost=false;Window.prototype.sameOriginPolicy=true;Window.prototype.nativeWindowObject=null;Window.prototype.engine=null;function Window(opts){if(opts==null){opts={}}Scribe.Mixins.Triggerable.mixin(this);if(opts.nativeWindowObject!=null){this._nativeWindowObject=opts.nativeWindowObject}else{this._createWindow(opts)}}Window.prototype.show=function(){return this._show()};Window.prototype.hide=function(){return this._hide()};Window.prototype.close=function(){return this._close()};Window.prototype.minimize=function(){return this._minimize()};Window.prototype.deminimize=function(){return this._deminimize()};Window.prototype.center=function(){return this._center()};Window.prototype.navigateToURL=function(url){return this._navigateToURL(url)};Window.prototype.postMessage=function(message){return this._postMessage(message)};return Window}();(function(){return Scribe.Mixins.GetterSetters.mixin(Scribe.Window.prototype,["fullscreen","title","closable","resizable","left","top","width","height","alpha","topmost","sameOriginPolicy","nativeWindowObject","visible"])})();exports["_base"]=_base})({},function(){return this}());